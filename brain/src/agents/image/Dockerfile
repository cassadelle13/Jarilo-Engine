# Шаг 1: Базовый образ
# Используем официальный образ Python. 'slim' версия меньше по размеру.
FROM python:3.11-slim

# Шаг 2: Установка рабочей директории
# Все последующие команды будут выполняться в этой папке внутри контейнера.
WORKDIR /app

# Шаг 3: Установка зависимостей
# Устанавливаем библиотеку OpenAI для доступа к LLM.
# --no-cache-dir уменьшает размер итогового образа.
RUN pip install --no-cache-dir openai

# Шаг 4: Копирование скрипта агента
# Копируем наш будущий скрипт агента в рабочую директорию контейнера.
COPY agent_script.py .

# Шаг 5: Точка входа
# Указываем команду, которая будет выполняться при запуске контейнера.
# Она запустит наш скрипт.
ENTRYPOINT ["python", "agent_script.py"]
