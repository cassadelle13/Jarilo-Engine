# ADR 001: Выбор базы данных для Brain (TinyDB)

## Статус
Принято

## Контекст
Ядро Jarilo (Brain) требует легковесного, быстрого и не требующего настройки хранилища для управления состоянием задач (Task State Management), очередями и метаданными агентов на этапе MVP (Minimum Viable Product) и локальной разработки. Использование полноценной реляционной СУБД (например, PostgreSQL) на этом этапе вносит избыточную сложность в развертывание и CI/CD.

## Решение
Использовать **TinyDB** в качестве основного хранилища для Brain.

## Обоснование
1.  **Zero-Configuration**: TinyDB не требует отдельного сервера, что упрощает запуск через `docker-compose` и локальную разработку.
2.  **Простота**: Хранение данных в формате JSON соответствует нереляционной природе метаданных задач и упрощает сериализацию/десериализацию объектов LangChain.
3.  **Временное решение**: Архитектура Brain построена с использованием паттерна **Adapter** (см. `JARILO_SYSTEMS.md`), что позволяет легко заменить TinyDB на масштабируемую СУБД (PostgreSQL, MongoDB) в будущем, без изменения основной бизнес-логики.

## Последствия
*   **Положительные**: Быстрый старт, низкий overhead, упрощенный CI/CD.
*   **Отрицательные**: Ограниченная масштабируемость и отсутствие транзакционной целостности для Production-среды с высокой нагрузкой. **Требуется миграция на PostgreSQL/Redis для Production.**
