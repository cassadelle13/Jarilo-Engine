# Jarilo Ecosystem

Репозиторий `jarilo-ecosystem` содержит ядро Jarilo (Brain), агентов и вспомогательные материалы. Ниже кратко описаны ключевые директории и шаги для запуска.

## Структура
- `brain/` — FastAPI-сервис с orkestrator, planner, executor, state manager и streaming endpoint.
- `agents/` / `agent/` — контейнерные агенты для выполнения шагов планов (Python и Node).
- `plugins/` — дополнительные интеграции (Data Analyst, Vite и др.).
- `workspaces/` — временные рабочие каталоги, создаются при запуске задач и очищаются после завершения. `workspaces/test_data/` содержит примеры входных датасетов.
- `tests/` — тестовые скрипты/файлы для ручной проверки и демонстрации SSE, LLM-интеграций, инструментов.
- Документы (`AUDIT_*`, `STREAMING_ARCHITECTURE.md`, `JARILO_SYSTEMS.md`) описывают дизайн, вывод аудитов и потоковую архитектуру.

## Быстрый старт
1. Скопируйте `.env.example` (если появится) или создайте `.env` в корне со своими переменными. **Не пушьте `.env`.**
2. Установите зависимости Python/Node и активируйте виртуальное окружение (например, `pip install -r brain/requirements.txt`).
3. Запустите необходимые сервисы (например, `docker-compose up --build` для `brain` и агентов).
4. Создавайте задачи через `POST /api/v1/tasks/` и отслеживайте выполнение по `GET /api/v1/tasks/{id}/stream` (SSE).
5. Для локальных тестов используйте `tests/` и скрипты (`test_streaming.py`, `test_executor.py` и др.).

## Безопасность и гигиена
- `.gitignore` уже исключает `.env`, логи, базы данных и артефакты. Если добавляешь новые временные файлы, вписывай их туда.
- Удаляй пустые `workspaces/<uuid>/` после тестов (скрипты автоматизации это делают).
- Для передачи задания в агентов используй Markdown-блоки — агенты парсят код и выполняют шаги.

## Документация и аудит
- `AUDIT_FINDINGS.md` и `AUDIT_REPORT.md` фиксируют выводы по безопасности и окружению. Если они не нужны в репозитории, удаляй их и фиксируй состояние коммитом.
- `STREAMING_ARCHITECTURE.md` описывает EventDispatcher, форматы SSE и тестовый сценарий для прозрачного трекинга задач.

## Как добавить файлы
1. Изменённые файлы добавляй через `git add <путь>`.
2. Проверь `git status`, чтобы убедиться, что не включены `.env` или другие секреты.
3. Сделай понятный коммит и запушь в нужную ветку.
4. Для новых библиотек/плагинов обновляй соответствующие `requirements`/`package.json` и тесты.
